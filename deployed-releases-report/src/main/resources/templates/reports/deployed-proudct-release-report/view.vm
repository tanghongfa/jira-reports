<style>
.report-info {
    font-family: "Verdana", Times, serif;
}
div.aui-message.info {
    display:none;
}
</style>
<div style="padding: 5px">
<!-- Display the report configuration -->

<div>
   <p>Report Details:</p>
   <table>
   <tr><td>Report Project Name:</td><td><span class="report-info">$projectName</span></td></tr>
   <tr><td>Report Time Period:</td><td><span class="report-info">$dateTimeFormatter.format($startDate) - $dateTimeFormatter.format($endDate)</span></td></tr>
   <tr><td>Report Result Set:</td>
        <td><span class="report-info">
            #if($deploymentResult == "success")
                Success Deployments Only
            #else
                All Deployments
            #end
            </span></td>
   </tr>
   <tr><td>Report Generated On:</td><td>20150413</td></tr>
   </table>
</div>
<div id="descriptionmodule_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Description</h2></div>
<br />
<style>
	table {
      background-color: transparent;
    }
    table {
      border-spacing: 0;
      border-collapse: collapse;
    }
    .table>thead:first-child>tr:first-child>th {
        border-top: 0;
    }
    .table>thead>tr>th {
      vertical-align: bottom;
      border-bottom: 2px solid #ddd;
    }
    .table>tbody>tr>td, .table>tbody>tr>th, .table>tfoot>tr>td, .table>tfoot>tr>th, .table>thead>tr>td, .table>thead>tr>th {
      padding: 8px;
      line-height: 1.42857143;
      vertical-align: top;
      border-top: 1px solid #ddd;
    }
    .table-report {
      width: 100%;
      text-align: center;
    }
    .table-striped>tbody>tr:nth-of-type(odd) {
      background-color: #f9f9f9;
    }
    .mod-header {
        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAADCAYAAABS3WWCAAAAGXRFWâ€¦I/PvXFWFAAAAAYSURBVHjaYvj//z8D0/Pnz/8zgFgAAQYAS5UJscReGMIAAAAASUVORK5CYII=) repeat-x scroll 0 10px;
    }
    .mod-header:before, .mod-header:after {
      content: " ";
      display: table;
    }
    .mod-header:after {
      clear: both;
    }
</style>
<table class="table table-striped table-report">
    <thead>
	<tr>
        <th>Issue Id</th>
        <th>Title</th>
        <th>Component</th>
        <th>Version</th>
        #foreach ($env in $environments)
        <th>$env</th>
        #end  
    </tr>
	</thead>	
    #foreach ($issue in $issues)
        #if($issue.isEverDeployed())
            <tr>
            	<td>
            		<a href="#">$issue.getIssueKey()</a>
            	</td>    	
            	<td>
            		$issue.getIssueTitle()
            	</td> 
            	<td>
            		$issue.getDeployedComponent()
            	</td>
            	<td>
            		$issue.getDeployedVersion()
            	</td>
            	#foreach ($env in $environments)
            	<td>
                    #if($deploymentResult == "success")
            		  #set ($activity = $issue.getLastSuccessDeploymentToEnv($env))
            		#else
            		  #set ($activity = $issue.getLastDeploymentToEnv($env))
            		#end
            		#if($activity)
            	       $dateTimeFormatter.format($activity.getActionDate())
            	    #else 
            	       ---
            		#end
            	</td>
            	#end      
            </tr>
        #end
    #end
</table>
</div>